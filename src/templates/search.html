{% extends "base.html" %}

{% block head %}
    <script>
        const searchForOperation = () => {
            const searchInputValue = document.getElementById("operation_search").value;
            window.location.href = `/search/${searchInputValue}`;
        }
        const searchForOperationType = (e) => {
            const searchInputValue = e.innerHTML;
            window.location.href = `/search/${searchInputValue}`;
        }
    </script>
{% endblock %}

{% block content %}
    <div class="flex justify-center flex-col items-center">
        <div class="flex my-3 gap-5">
            <input id="operation_search" type="text" placeholder="Тип операции" class="text-xl">
            <button onclick="searchForOperation()" class="border-2 rounded-3xl bg-gray-300 p-3">Поиск по операциям
            </button>
        </div>
        <span>Например: Купить билеты, Купить сертификаты, Расписание</span>
        <div style="display: flex; gap: 20px;">
            <button onclick="searchForOperationType(this)"
                    class="border-2 rounded-3xl bg-gray-300 p-3">Купить билеты
            </button>
            <button onclick="searchForOperationType(this)"
                    class="border-2 rounded-3xl bg-gray-300 p-3">Купить сертификаты
            </button>
            <button onclick="searchForOperationType(this)"
                    class="border-2 rounded-3xl bg-gray-300 p-3">Расписание
            </button>
        </div>
        {% for operation in operations %}
            <div class="flex rounded-3 border-2 p-3 mt-5">
                <img width="150" src="{{ url_for('static', path='stocks_1.png') }}" alt="Стонкс" class="mr-5">
                <div class="flex flex-col">
                    <span class="text-2xl font-bold">{{ operation.type }}</span>
                    <span class="text-lg">{{ operation.date }}</span>
                    <span class="text-lg">{{ operation.quantity }}</span>
                    <span class="text-lg">{{ operation.figi }}</span>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}